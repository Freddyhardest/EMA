<!DOCTYPE html>
<html>
<head>
  <title>Other Events - event details record</title>
  <style>
    * { box-sizing: border-box; font-family: Courier; }
    div {
      padding: 10px;
      background-color: #f6f6f6;
      overflow: hidden;
    }
    input[type=text], textarea, select {
      font-size: 18px;
      width: 100%;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    input[type=button]{ 
      font-size: 18px;
      width: auto;
      float: right;
      cursor: pointer;
      padding: 7px;
    }
    a { color: blue; }
  </style>
</head>
<body>
  <h2>O.U. Club: Other Events</h2>
  <h3>Trial web page for the Open University Walking Club.</h3>
  <div>
    <!--Add few elements to the form-->

<div>
      <input type="text" id="txtEventName" placeholder="Name of event" />
    </div>
<div>
      <input type="date" id="txtDate" placeholder="Date of event" />
    </div>
<div>
      <input type="text" id="txtType" placeholder="Type of event" />
    </div>
<div>
      <input type="time" id="txtStart" placeholder="Start time" />
    </div>
<div>
      <input type="text" id="txtDuration" placeholder="Duration" />
    </div>
<div>
      <input type="text" id="txtLocation" placeholder="Location of event" />
    </div>

    <div>
      <input type="button" id="bt" 
             value="Save data to file" onclick="saveFile()" />
    </div>
  </div>

  </body>

<script>

let saveFile = () => {

// Get the data from each element on the form.
const eventName = document.getElementById('txtEventName');
const dateEvent = document.getElementById('txtDate');
const eventType = document.getElementById('txtType');
const startTime = document.getElementById('txtStart');
const duration = document.getElementById('txtDuration');
const locationEvent = document.getElementById('txtLocation');

// This variable stores all the data.
let data = 
'\r Event Name: ' + eventName.value + ' \r\n ' + 
'Date of Event: ' + dateEvent.value + ' \r\n ' + 
'Type of Event: ' + eventType.value + ' \r\n ' + 
'Start Time: ' + startTime.value + ' \r\n ' + 
'Duration: ' + duration.value + ' \r\n ' +
'Location of Event:' + locationEvent.value + '\r\n';

// Convert the text to BLOB.
const textToBLOB = new Blob([data], { type: 'text/plain' });
const sFileName = 'formData.txt'; // The file to save the data.

let newLink = document.createElement("a");
newLink.download = sFileName;

if (window.webkitURL != null) {
newLink.href = window.webkitURL.createObjectURL(textToBLOB);
}
else {
newLink.href = window.URL.createObjectURL(textToBLOB);
newLink.style.display = "none";
document.body.appendChild(newLink);
}

newLink.click(); 
}
</script>

</html>

